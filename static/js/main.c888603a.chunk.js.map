{"version":3,"sources":["components/Error/Error.module.css","shared/components/Section/Section.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","shared/components/Modal/Modal.module.css","components/ImageGalleryList/ImageGalleryList.module.css","shared/components/Button/Button.module.css","components/ContentForModal/ContentForModal.module.css","shared/components/Section/Section.jsx","shared/components/Input/Input.jsx","shared/components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","shared/servises/galleryAPI/fetchGalleryImageList.js","components/ImageGalleryItem/ImageGalleryItem.jsx","shared/components/Modal/Modal.jsx","components/ContentForModal/ContentForModal.jsx","components/Error/Error.jsx","shared/components/Spinner/Spinner.jsx","components/ImageGalleryList/ImageGalleryList.jsx","App.js","index.js","shared/components/Input/Input.module.css"],"names":["module","exports","Section","title","children","className","styles","section","container","id","nanoid","Input","props","labelName","value","onChange","type","name","pattern","placeholderValue","autoComplete","autoFocus","s","filterComponent","formComponent","htmlFor","formLabel","formInput","placeholder","defaultProps","Button","text","onClick","undefined","Searchbar","useState","query","setQuery","form","onSubmit","e","preventDefault","trim","toast","warn","target","Provider","color","size","instance","axios","create","baseURL","params","key","image_type","orientation","per_page","galleryAPI","page","get","q","ImageGalleryItem","imageData","map","item","src","webformatURL","alt","tags","modalRoot","document","getElementById","Modal","closeModal","close","code","currentTarget","useEffect","window","addEventListener","createPortal","overlay","modal","ContetnForModal","largeImageURL","Error","error","width","Spinner","SpinnerDotted","style","position","top","left","transform","ImageGalleryList","propsQuery","gallery","totalImages","status","modalOpen","modalObj","state","setState","searchImages","prevGallery","a","result","data","hits","length","totalHits","message","totalPages","Math","ceil","ContentForModal","find","prevState","App","autoClose","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,kBAAkB,+BAA+B,aAAa,4B,mBCAhFD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,UAAY,2BAA2B,MAAQ,yB,mBCApGD,EAAOC,QAAU,CAAC,KAAO,0B,mBCAzBD,EAAOC,QAAU,CAAC,eAAe,uCAAuC,cAAc,wC,mBCAtFD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,kCAAkC,KAAO,iC,mBCArED,EAAOC,QAAU,CAAC,cAAc,4BAA4B,OAAS,uBAAuB,YAAY,4B,mBCAxGD,EAAOC,QAAU,CAAC,YAAY,qC,2KCUfC,EARC,SAAC,GAAwB,EAAtBC,MAAuB,IAAhBC,EAAe,EAAfA,SACxB,OACE,yBAASC,UAAWC,IAAOC,QAA3B,SACE,qBAAKF,UAAWC,IAAOE,UAAvB,SAAmCJ,O,uCCFnCK,EAAKC,cAELC,EAAQ,SAACC,GACb,IACEC,EAUED,EAVFC,UACAC,EASEF,EATFE,MACAC,EAQEH,EARFG,SACAC,EAOEJ,EAPFI,KACAC,EAMEL,EANFK,KACAC,EAKEN,EALFM,QACAf,EAIES,EAJFT,MACAgB,EAGEP,EAHFO,iBACAC,EAEER,EAFFQ,aACAC,EACET,EADFS,UAGF,OACE,sBAAKhB,UAAoB,WAATY,EAAoBK,IAAEC,gBAAkBD,IAAEE,cAA1D,UACGX,GACC,wBAAOY,QAAShB,EAAIJ,UAAWiB,IAAEI,UAAjC,UACGb,EADH,OAIF,uBACER,UAAWiB,IAAEK,UACblB,GAAIA,EACJK,MAAOA,EACPC,SAAUA,EACVC,KAAMA,EACNC,KAAMA,EACNC,QAASA,EACTf,MAAOA,EACPyB,YAAaT,EACbC,aAAcA,EACdC,UAAWA,QAKJV,IAEfA,EAAMkB,aAAe,CACnBb,KAAM,OAENK,WAAW,G,qBC7CPS,EAAS,SAAC,GAAwC,IAAtCd,EAAqC,EAArCA,KAAMe,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,QAAS3B,EAAgB,EAAhBA,UACrC,OACE,wBACE2B,QAASA,QAAoBC,EAC7BjB,KAAMA,EACNX,UAAWiB,IAAEjB,GAHf,SAKG0B,KAIQD,IAEfA,EAAOD,aAAe,CACpBb,KAAM,SACNgB,aAASC,G,qBCgDIC,EAtDG,SAACtB,GACjB,MAA0BuB,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAqBA,OACE,uBAAMhC,UAAWiB,IAAEgB,KAAMC,SAhB3B,SAAsBC,GACpBA,EAAEC,iBAEmB,KAAjBL,EAAMM,QACRC,IAAMC,KAAK,8BAGbhC,EAAM2B,SAASH,GAKfC,EAAS,KAIT,UACE,cAAC,EAAD,CACEvB,MAAOsB,EACPrB,SAvBN,SAAuByB,GACrBH,EAASG,EAAEK,OAAO/B,QAuBdE,KAAK,OACLG,iBAAiB,2BACjBE,WAAW,EACXD,aAAa,QAGf,cAAC,EAAD,CACEJ,KAAK,SACLe,KACE,cAAC,IAAYe,SAAb,CACEhC,MAAO,CACLiC,MAAO,oBACP1C,UAAW,cACX2C,KAAM,QAJV,SAOE,sBAAM3C,UAAWiB,IAAE,gBAAnB,SACE,cAAC,IAAD,QAINjB,UAAU,e,gDC1DZ4C,E,OAAWC,EAAMC,OAAO,CAC5BC,QAAS,2BACTC,OAAQ,CACNC,IAAK,qCACLC,WAAY,QACZC,YAAa,aACbC,SAAU,MAaDC,EATM,SAACtB,EAAOuB,GACzB,OAAOV,EAASW,IAAI,IAAK,CACvBP,OAAQ,CACNQ,EAAGzB,EACHuB,W,iBCISG,EAjBU,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,UAAW/B,EAAc,EAAdA,QAcrC,OAba+B,EAAUC,KAAI,SAACC,GAAD,OACzB,oBACE5D,UAAWiB,IAAE,gBAEbU,QAAS,kBAAMA,EAAQiC,EAAKxD,KAH9B,SAKE,qBACEyD,IAAKD,EAAKE,aACVC,IAAKH,EAAKI,KACVhE,UAAWiB,IAAE,kBANV2C,EAAKxD,Q,iBCCV6D,EAAYC,SAASC,eAAe,cAoC3BC,EAlCD,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,WAAYtE,EAAe,EAAfA,SAS3B,SAASuE,EAAMnC,GACb,GAAe,WAAXA,EAAEoC,KACJ,OAAOF,IAELlC,EAAEqC,gBAAkBrC,EAAEK,QACxB6B,IAIJ,OAjBAI,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,UAAWL,GAE5B,WACLI,OAAOC,iBAAiB,UAAWL,MAEpC,IAWIM,uBACL,qBAAK5E,UAAWiB,IAAE4D,QAASlD,QAAS2C,EAApC,SACE,sBAAKtE,UAAWiB,IAAE6D,MAAlB,UACE,cAAC,EAAD,CACEnE,KAAK,SACLe,KAAK,eACLC,QAAS2C,EACTtE,UAAU,gBAEXD,OAGLkE,I,iBC5BWc,EARS,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,cAAehB,EAAW,EAAXA,KACxC,OACE,mCACE,qBAAKH,IAAKmB,EAAejB,IAAKC,EAAMhE,UAAWiB,IAAE,kB,iBCcxCgE,EAlBD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACf,OACE,sBAAKlF,UAAWiB,IAAE,mBAAlB,UACE,qBACE4C,IACE,oFAEFE,IAAI,QACJoB,MAAM,KACNnF,UAAWiB,IAAE,eAEf,oBAAGjB,UAAWiB,IAAE,cAAhB,UACE,2CACCiE,S,QCAME,EAdC,WACd,OACE,cAACC,EAAA,EAAD,CACEC,MAAO,CACL5C,MAAO,oBACP6C,SAAU,QACVC,IAAK,MACLC,KAAM,MACNC,UAAW,4B,iBCoHJC,EA9GU,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAC1B,EAA0B9D,mBAAS,CACjC+D,QAAS,GACTvC,KAAM,EACNwC,YAAa,EACbC,OAAQ,OACRC,WAAW,EACXC,SAAU,GACVf,MAAO,KAPT,mBAAOgB,EAAP,KAAcC,EAAd,KAUQL,EACNI,EADMJ,YAAaZ,EACnBgB,EADmBhB,MAAOa,EAC1BG,EAD0BH,OAAQC,EAClCE,EADkCF,UAAWC,EAC7CC,EAD6CD,SAAUJ,EACvDK,EADuDL,QAASvC,EAChE4C,EADgE5C,KAXvB,SA6B5B8C,EA7B4B,8EA6B3C,WAA4BC,GAA5B,eAAAC,EAAA,+EAEyBjD,EAAsBuC,EAAYtC,GAF3D,QAEUiD,EAFV,QAGgBC,KAAKC,KAAKC,QACpBpE,IAAM4C,MAAM,iCAGdiB,EAAS,2BACJD,GADG,IAENJ,YAAaS,EAAOC,KAAKG,UACzBZ,OAAQ,WACRF,QAAQ,GAAD,mBAAMQ,GAAN,YAAsBE,EAAOC,KAAKC,UAX/C,gDAcIN,EAAS,2BACJD,GADG,IAENhB,MAAO,KAAM0B,QACbb,OAAQ,cAjBd,0DA7B2C,sBAc3CtB,qBAAU,WACHmB,GAILQ,EAAa,MACZ,CAACR,IAEJnB,qBAAU,WACHmB,GAGLQ,EAAaP,KACZ,CAACvC,IAgDJ,IAAMuD,EAAaC,KAAKC,KAAKjB,EAAc,IAE3C,OACE,qCACc,YAAXC,GAAwB,cAAC,EAAD,IAEb,aAAXA,GAAyB,cAAC,EAAD,CAAOb,MAAOA,IAEvCc,GACC,cAAC,EAAD,CAAO3B,WAhBb,WACE8B,EAAS,2BACJD,GADG,IAENF,WAAW,MAaT,SACE,cAACgB,EAAD,eAAqBf,MAGxBJ,EAAQa,OAAS,GAChB,oBAAI1G,UAAWiB,IAAE4E,QAAjB,SACE,cAAC,EAAD,CAAkBnC,UAAWmC,EAASlE,QA/B9C,SAAmBvB,GACjB,IAAM6F,EAAWJ,EAAQoB,MAAK,SAACrD,GAAD,OAAUA,EAAKxD,KAAOA,KACpD+F,EAAS,2BACJD,GADG,IAEND,WACAD,WAAW,UA6BVH,EAAQa,OAAS,GAAKpD,EAAOuD,GAC5B,cAAC,EAAD,CACElG,KAAK,SACLe,KAAK,YACLC,QA9CR,WACEwE,GAAS,SAACe,GAAD,mBAAC,eACLhB,GADI,IAEP5C,KAAM4D,EAAU5D,KAAO,EACvByC,OAAQ,gBA2CJ/F,UAAW,cAGdsD,IAASuD,GACR,mBAAG7G,UAAWiB,IAAES,KAAhB,4ECtFOyF,I,MArBH,WACV,MAA0BrF,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAMA,OACE,qCACE,cAAC,EAAD,UACE,cAAC,EAAD,CAAWE,SAPjB,SAA2BsE,GACzBxE,EAASwE,QASP,cAAC,EAAD,UACE,cAAC,EAAD,CAAkBZ,WAAY7D,MAEhC,cAAC,IAAD,CAAgBqF,UAAW,IAAM7B,SAAS,oBCtBhD8B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFrD,SAASC,eAAe,U,kBCR1BxE,EAAOC,QAAU,CAAC,cAAgB,6BAA6B,UAAY,4B","file":"static/js/main.c888603a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error-container\":\"Error_error-container__3K67-\",\"error-text\":\"Error_error-text__2dwZr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__RoxOA\",\"container\":\"Section_container__2GwYb\",\"title\":\"Section_title__oOh0g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Searchbar_form__3SWv7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery-item\":\"ImageGalleryItem_gallery-item__2ygkk\",\"gallery-img\":\"ImageGalleryItem_gallery-img__2d9EF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2nKXG\",\"modal\":\"Modal_modal__3XObY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGalleryList_gallery__1ZH_7\",\"text\":\"ImageGalleryList_text__31qA2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-close\":\"Button_modal-close__2oi5P\",\"search\":\"Button_search__3AhhK\",\"load-more\":\"Button_load-more__2DtS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-img\":\"ContentForModal_modal-img__2oJk8\"};","import PropTypes from \"prop-types\";\r\nimport styles from \"./Section.module.css\";\r\n\r\nconst Section = ({ title, children }) => {\r\n  return (\r\n    <section className={styles.section}>\r\n      <div className={styles.container}>{children}</div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Section;\r\n\r\nSection.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport { nanoid } from \"nanoid\";\r\nimport s from \"./Input.module.css\";\r\n\r\nconst id = nanoid();\r\n\r\nconst Input = (props) => {\r\n  const {\r\n    labelName,\r\n    value,\r\n    onChange,\r\n    type,\r\n    name,\r\n    pattern,\r\n    title,\r\n    placeholderValue,\r\n    autoComplete,\r\n    autoFocus,\r\n  } = props;\r\n\r\n  return (\r\n    <div className={name === \"filter\" ? s.filterComponent : s.formComponent}>\r\n      {labelName && (\r\n        <label htmlFor={id} className={s.formLabel}>\r\n          {labelName}:\r\n        </label>\r\n      )}\r\n      <input\r\n        className={s.formInput}\r\n        id={id}\r\n        value={value}\r\n        onChange={onChange}\r\n        type={type}\r\n        name={name}\r\n        pattern={pattern}\r\n        title={title}\r\n        placeholder={placeholderValue}\r\n        autoComplete={autoComplete}\r\n        autoFocus={autoFocus}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Input;\r\n\r\nInput.defaultProps = {\r\n  type: \"text\",\r\n  // placeholder: undefined,\r\n  autoFocus: false,\r\n};\r\n\r\nInput.propTypes = {\r\n  labelName: PropTypes.string,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  type: PropTypes.string,\r\n  name: PropTypes.string,\r\n  pattern: PropTypes.string,\r\n  title: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  autoFocus: PropTypes.bool,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ type, text, onClick, className }) => {\r\n  return (\r\n    <button\r\n      onClick={onClick ? onClick : undefined}\r\n      type={type}\r\n      className={s[className]}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.defaultProps = {\r\n  type: \"button\",\r\n  onClick: undefined,\r\n};\r\n\r\nButton.propTypes = {\r\n  type: PropTypes.string,\r\n  text: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n    PropTypes.object,\r\n  ]),\r\n  onClick: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n","import { useState } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { AiOutlineCompass } from \"react-icons/ai\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Input from \"../../shared/components/Input\";\r\nimport Button from \"../../shared/components/Button\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = (props) => {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  function onInputChange(e) {\r\n    setQuery(e.target.value);\r\n  }\r\n\r\n  function onFormSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === \"\") {\r\n      toast.warn(\"Please, enter your request\");\r\n    }\r\n\r\n    props.onSubmit(query);\r\n    onInputClear();\r\n  }\r\n\r\n  function onInputClear() {\r\n    setQuery(\"\");\r\n  }\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={onFormSubmit}>\r\n      <Input\r\n        value={query}\r\n        onChange={onInputChange}\r\n        type=\"text\"\r\n        placeholderValue=\"Search images and photos\"\r\n        autoFocus={true}\r\n        autoComplete=\"off\"\r\n      />\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        text={\r\n          <IconContext.Provider\r\n            value={{\r\n              color: \"rgb(21, 180, 243)\",\r\n              className: \"search-icon\",\r\n              size: \"20px\",\r\n            }}\r\n          >\r\n            <span className={s[\"button-label\"]}>\r\n              <AiOutlineCompass />\r\n            </span>\r\n          </IconContext.Provider>\r\n        }\r\n        className=\"search\"\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://pixabay.com/api/\",\r\n  params: {\r\n    key: \"24480883-e3616999421f7f8a627deaac2\",\r\n    image_type: \"photo\",\r\n    orientation: \"horizontal\",\r\n    per_page: 12,\r\n  },\r\n});\r\n\r\nconst fetchQuery = (query, page) => {\r\n  return instance.get(\"/\", {\r\n    params: {\r\n      q: query,\r\n      page,\r\n    },\r\n  });\r\n};\r\n\r\nexport const galleryAPI = {\r\n  fetchQuery,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ imageData, onClick }) => {\r\n  const item = imageData.map((item) => (\r\n    <li\r\n      className={s[\"gallery-item\"]}\r\n      key={item.id}\r\n      onClick={() => onClick(item.id)}\r\n    >\r\n      <img\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n        className={s[\"gallery-img\"]}\r\n      />\r\n    </li>\r\n  ));\r\n  return item;\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageData: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onClick: PropTypes.func,\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Button from \"../Button\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nconst Modal = ({ closeModal, children }) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", close);\r\n\r\n    return () => {\r\n      window.addEventListener(\"keydown\", close);\r\n    };\r\n  }, []);\r\n\r\n  function close(e) {\r\n    if (e.code === \"Escape\") {\r\n      return closeModal();\r\n    }\r\n    if (e.currentTarget === e.target) {\r\n      closeModal();\r\n    }\r\n  }\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={close}>\r\n      <div className={s.modal}>\r\n        <Button\r\n          type=\"button\"\r\n          text=\"&#128473;\"\r\n          onClick={close}\r\n          className=\"modal-close\"\r\n        />\r\n        {children}\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ContentForModal.module.css\";\r\n\r\nconst ContetnForModal = ({ largeImageURL, tags }) => {\r\n  return (\r\n    <>\r\n      <img src={largeImageURL} alt={tags} className={s[\"modal-img\"]} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContetnForModal;\r\n\r\nContetnForModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Error.module.css\";\r\n\r\nconst Error = ({ error }) => {\r\n  return (\r\n    <div className={s[\"error-container\"]}>\r\n      <img\r\n        src={\r\n          \"https://icons.iconarchive.com/icons/gakuseisean/ivista-2/128/Alarm-Error-icon.png\"\r\n        }\r\n        alt=\"error\"\r\n        width=\"50\"\r\n        className={s[\"error-img\"]}\r\n      />\r\n      <p className={s[\"error-text\"]}>\r\n        <span>Error: </span>\r\n        {error}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\nexport default Error;\r\n\r\nError.propTypes = {\r\n  error: PropTypes.string,\r\n};\r\n","import { SpinnerDotted } from \"spinners-react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <SpinnerDotted\r\n      style={{\r\n        color: \"rgb(21, 180, 243)\",\r\n        position: \"fixed\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","// import React, { Component } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { galleryAPI } from \"../../shared/servises/galleryAPI\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Button from \"../../shared/components/Button\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport Modal from \"../../shared/components/Modal\";\r\nimport ContentForModal from \"../ContentForModal\";\r\nimport Error from \"../Error\";\r\nimport Spinner from \"../../shared/components/Spinner\";\r\n\r\nimport s from \"./ImageGalleryList.module.css\";\r\n\r\nconst ImageGalleryList = ({ propsQuery }) => {\r\n  const [state, setState] = useState({\r\n    gallery: [],\r\n    page: 1,\r\n    totalImages: 0,\r\n    status: \"idle\",\r\n    modalOpen: false,\r\n    modalObj: {},\r\n    error: \"\",\r\n  });\r\n\r\n  const { totalImages, error, status, modalOpen, modalObj, gallery, page } =\r\n    state;\r\n\r\n  useEffect(() => {\r\n    if (!propsQuery) {\r\n      return;\r\n    }\r\n\r\n    searchImages([]);\r\n  }, [propsQuery]);\r\n\r\n  useEffect(() => {\r\n    if (!propsQuery) {\r\n      return;\r\n    }\r\n    searchImages(gallery);\r\n  }, [page]);\r\n\r\n  async function searchImages(prevGallery) {\r\n    try {\r\n      const result = await galleryAPI.fetchQuery(propsQuery, page);\r\n      if (!result.data.hits.length) {\r\n        toast.error(\"Sorry we can't find anything(\");\r\n      }\r\n\r\n      setState({\r\n        ...state,\r\n        totalImages: result.data.totalHits,\r\n        status: \"resolved\",\r\n        gallery: [...prevGallery, ...result.data.hits],\r\n      });\r\n    } catch (error) {\r\n      setState({\r\n        ...state,\r\n        error: error.message,\r\n        status: \"rejected\",\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleClick() {\r\n    setState((prevState) => ({\r\n      ...state,\r\n      page: prevState.page + 1,\r\n      status: \"pending\",\r\n    }));\r\n  }\r\n\r\n  function showModal(id) {\r\n    const modalObj = gallery.find((item) => item.id === id);\r\n    setState({\r\n      ...state,\r\n      modalObj,\r\n      modalOpen: true,\r\n    });\r\n  }\r\n\r\n  function hideModal() {\r\n    setState({\r\n      ...state,\r\n      modalOpen: false,\r\n    });\r\n  }\r\n\r\n  const totalPages = Math.ceil(totalImages / 12);\r\n\r\n  return (\r\n    <>\r\n      {status === \"pending\" && <Spinner />}\r\n\r\n      {status === \"rejected\" && <Error error={error} />}\r\n\r\n      {modalOpen && (\r\n        <Modal closeModal={hideModal}>\r\n          <ContentForModal {...modalObj} />\r\n        </Modal>\r\n      )}\r\n      {gallery.length > 0 && (\r\n        <ul className={s.gallery}>\r\n          <ImageGalleryItem imageData={gallery} onClick={showModal} />\r\n        </ul>\r\n      )}\r\n      {gallery.length > 0 && page < totalPages && (\r\n        <Button\r\n          type=\"button\"\r\n          text=\"Load more\"\r\n          onClick={handleClick}\r\n          className={\"load-more\"}\r\n        />\r\n      )}\r\n      {page === totalPages && (\r\n        <p className={s.text}>\r\n          We're sorry, but you've reached the end of search results.\r\n        </p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryList;\r\n\r\nImageGalleryList.propTypes = {\r\n  propsQuery: PropTypes.string,\r\n};\r\n","import { useState } from \"react\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Section from \"./shared/components/Section\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGalleryList from \"./components/ImageGalleryList\";\n\nimport \"./styles/App.css\";\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n\n  function formSubmitHandler(data) {\n    setQuery(data);\n  }\n\n  return (\n    <>\n      <Section>\n        <Searchbar onSubmit={formSubmitHandler} />\n      </Section>\n\n      <Section>\n        <ImageGalleryList propsQuery={query} />\n      </Section>\n      <ToastContainer autoClose={3000} position=\"top-center\" />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formComponent\":\"Input_formComponent__1U7-9\",\"formInput\":\"Input_formInput__3N24-\"};"],"sourceRoot":""}